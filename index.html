<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Service Desk Automator</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts para Visual Premium -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>

    <div class="app-container">
        <!-- Barra Lateral -->
        <aside class="sidebar">
            <div class="logo">
                <h2>‚ö° SmartDesk</h2>
            </div>
            <nav class="nav-menu">
                <button class="nav-item active" data-tab="queue">
                    <span class="icon">üìã</span> Fila de Chamados
                </button>
                <button class="nav-item" data-tab="manager">
                    <span class="icon">üîç</span> Gerenciar Abertos
                    <span class="badge new-feature">Novo</span>
                </button>
                <button class="nav-item" data-tab="settings">
                    <span class="icon">‚öôÔ∏è</span> Credenciais
                </button>
                <button class="nav-item" data-tab="logs">
                    <span class="icon">üìú</span> Logs
                </button>
            </nav>
            <div class="sidebar-footer">
                <p>v1.0.0</p>
            </div>
        </aside>

        <!-- Conte√∫do Principal -->
        <main class="content-area">

            <!-- Aba: Fila de Chamados -->
            <div id="queue" class="tab-content active">
                <header class="tab-header">
                    <h1>Fila de Processamento</h1>
                    <div class="actions">
                        <button id="btn-add-row" class="btn secondary">+ Adicionar Linha</button>
                        <button id="btn-remove-selected" class="btn danger" style="display: none;">Excluir
                            Selecionados</button>
                        <button id="btn-generate-ai" class="btn secondary-color">‚ú® Gerar com IA</button>
                        <button id="btn-start-bot" class="btn primary">‚ñ∂ Iniciar Bot</button>
                    </div>
                </header>

                <div class="table-container">
                    <table class="ticket-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="select-all"></th>
                                <th>Cliente</th>
                                <th>Departamento</th>
                                <th>Categoria</th>
                                <th>Atendente</th>
                                <th>Resumo (O que aconteceu?)</th>
                                <th>Mensagem Gerada (IA)</th>
                                <th>Resolver?</th>
                            </tr>
                        </thead>
                        <tbody id="ticket-queue-body">
                            <!-- Linhas ser√£o adicionadas aqui pelo JS -->
                        </tbody>
                    </table>
                    <datalist id="clients-list"></datalist>
                </div>
            </div>

            <!-- Aba: Gerenciador de Chamados (Busca) -->
            <div id="manager" class="tab-content">
                <header class="tab-header">
                    <h1>Gerenciar Chamados Abertos</h1>
                    <div class="actions">
                        <button id="btnLoadApiTickets" class="btn secondary">üîÑ Buscar Meus Chamados</button>
                        <select id="operatorFilter" class="input-field" style="display:none; margin-left:10px;">
                            <option value="">Filtrar Atendente...</option>
                        </select>
                        <span id="apiStatus" style="margin-left: 10px; font-size: 0.9em; color: #888;"></span>
                    </div>
                </header>
                <div class="empty-state">
                    <p>Clique em "Buscar" para listar seus chamados do TomTicket.</p>
                </div>
                <div class="table-container hidden" id="manager-table-container">
                    <table class="ticket-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox"></th>
                                <th>ID</th>
                                <th>Assunto</th>
                                <th>Cliente</th>
                                <th>A√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody id="manager-queue-body"></tbody>
                    </table>
                    <div class="bulk-actions">
                        <button id="btn-close-selected" class="btn danger">Fechar Selecionados</button>
                    </div>
                </div>
            </div>

            <!-- Aba: Configura√ß√µes -->
            <div id="settings" class="tab-content">
                <header class="tab-header">
                    <h1>Configura√ß√µes de Acesso</h1>
                </header>
                <div class="form-container">
                    <div class="form-group">
                        <label>URL do Sistema</label>
                        <input type="text" value="https://console.tomticket.com" disabled class="input-field">
                    </div>
                    <div class="form-group">
                        <label>Conta (Empresa)</label>
                        <input type="text" id="settings-account" placeholder="Ex: Hebron" class="input-field">
                    </div>
                    <div class="form-group">
                        <label>Email de Acesso</label>
                        <input type="email" id="settings-email" placeholder="seu.email@empresa.com" class="input-field">
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" id="settings-password" placeholder="********" class="input-field">
                    </div>
                    <div class="form-group">
                        <label>Navegador</label>
                        <select id="settings-browser" class="input-field">
                            <option value="chromium">Google Chrome</option>
                            <option value="firefox">Firefox</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Token API TomTicket (Beta)</label>
                        <input type="password" id="apiToken" placeholder="Cole seu Token aqui..." class="input-field">
                        <small style="color: #aaa;">Salvo localmente no seu computador.</small>
                    </div>
                    <!-- Save Credentials Checkbox -->
                    <div style="margin-top: 15px; margin-bottom: 15px; display: flex; align-items: center;">
                        <input type="checkbox" id="chk-save-credentials" style="margin-right: 10px;">
                        <label for="chk-save-credentials" style="color: #e0e0e0; cursor: pointer;">Salvar minhas
                            credenciais</label>
                    </div>

                    <button id="btn-save-settings" class="btn primary">Sincronizar Dados</button>
                </div>
            </div>


            <!-- Aba: Logs -->
            <div id="logs" class="tab-content">
                <header class="tab-header">
                    <h1>Logs de Execu√ß√£o</h1>
                    <button id="btn-clear-logs" class="btn secondary">Limpar</button>
                </header>
                <div class="logs-container" id="logs-output">
                    <div class="log-entry info">[System] App iniciado. Aguardando comandos.</div>
                </div>
            </div>

        </main>
    </div>

    <div class="container mt-4" id="apiResults" style="display: none;">
        <h4>Chamados Encontrados</h4>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Protocolo</th>
                        <th>Assunto</th>
                        <th>Cliente</th>
                        <th>Situa√ß√£o</th>
                        <th>Atendente</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="ticketsBody">
                </tbody>
            </table>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>